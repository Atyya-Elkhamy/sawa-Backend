logging:
  logs:
    default:
      level: INFO

storage:
  module: file_system
  root: /data

apps:
  tls:
    certificates:
      automate:
        - realtime.rootmatrix.cloud	
        - turn.rootmatrix.cloud	
        - app.rootmatrix.cloud	

  layer4:
    servers:
      main:
        listen: [":80", ":443"]
        routes:
          - match:
              - tls:
                  sni:
                    - "turn.rootmatrix.cloud	"
            handle:
              - handler: proxy
                upstreams:
                  - dial: ["localhost:5349"]
          - match:
              - tls:
                  sni:
                    - "realtime.rootmatrix.cloud	"
            handle:
              - handler: tls
                connection_policies:
                  - alpn: ["http/1.1"]
              - handler: proxy
                upstreams:
                  - dial: ["localhost:7880"]
          - match:
              - tls:
                  sni:
                    - "app.rootmatrix.cloud	"
            handle:
              - handler: tls
                connection_policies:
                  - alpn: ["http/1.1"]
              - handler: proxy
                upstreams:
                  - dial: ["localhost:6000"]
          

