(function(p,t,x){"use strict";function F(u){return u&&u.__esModule?u:{default:u}}var e=F(p);const w=new x.ApiClient,N=({record:u,action:l})=>{const c="Gift",a=l.name,o=l.name==="uploadImage"?"image":"file",[n,i]=p.useState(!1),[r,d]=p.useState(null),[m,s]=p.useState(null),f=x.useNotice(),g=u?.params?.[o]||"",[C,B]=p.useState(0),D=p.useCallback(b=>{d(null);const h=b[0];if(!h)return;const T=o==="image"?["image/jpeg","image/png","image/jpg"]:["application/pdf","audio/mpeg"];if(!T.includes(h.type)){d(`Invalid file type. Please upload a ${T.join(" or ")} file.`);return}const A=5*1024*1024;if(h.size>A){d("File is too large. Maximum size is 5MB.");return}s(h)},[o]),E=p.useCallback(async()=>{if(!m){d("No file selected.");return}i(!0);const b=new FormData;b.append("file",m);try{const h=await w.recordAction({resourceId:c,recordId:u.id,actionName:a,data:b,headers:{"Content-Type":"multipart/form-data"}});f({message:"File uploaded successfully",type:"success"}),B(T=>T+1),s(null)}catch(h){d(h.message||"Error uploading file"),f({message:"Error uploading file",type:"error"})}finally{i(!1)}},[m,o,u.id,c,a,f]),v=p.useCallback(async()=>{try{await w.recordAction({resourceId:c,recordId:u.id,actionName:a,data:{[o]:null}}),f({message:"File removed successfully",type:"success"}),B(b=>b+1)}catch{f({message:"Error removing file",type:"error"})}},[o,u.id,c,a,f]);return e.default.createElement(t.Box,null,e.default.createElement(t.H3,null,"Upload File"),e.default.createElement(t.Box,{mb:"xl"},e.default.createElement(t.Text,{variant:"sm"},"Upload a ",o==="image"?"JPG or PNG image":"PDF or MP3 file"," (max 5MB)")),r&&e.default.createElement(t.Box,{mb:"xl"},e.default.createElement(t.MessageBox,{variant:"danger"},r)),g&&e.default.createElement(t.Box,{mb:"xl",flex:!0,alignItems:"center"},e.default.createElement(t.Box,{mr:"lg",position:"relative",flex:!0,alignItems:"center"},o==="image"?e.default.createElement("img",{src:g,alt:"Current",style:{maxWidth:"200px",maxHeight:"auto",objectFit:"contain"}}):e.default.createElement(t.Text,null,g)),e.default.createElement(t.Button,{variant:"danger",size:"sm",onClick:v,disabled:n},e.default.createElement(t.Icon,{icon:"TrashCan"}),"Remove")),e.default.createElement(t.Box,null,e.default.createElement(t.DropZone,{key:C,onChange:D,multiple:!1,validate:{mimeTypes:o==="image"?["image/jpeg","image/png","image/jpg"]:["application/pdf","audio/mpeg"],maxSize:5*1024*1024},disabled:n},n?e.default.createElement(t.Box,{p:"xl",display:"flex",justifyContent:"center"},e.default.createElement(t.Text,null,"Uploading...")):e.default.createElement(t.Box,{p:"xl",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},e.default.createElement(t.Icon,{icon:"Upload",size:20,color:"primary100"}),e.default.createElement(t.Text,{mt:"default"},"Drag and drop a file here, or click to select"),e.default.createElement(t.Text,{mt:"sm",variant:"sm",color:"grey"},o==="image"?"JPG or PNG, max 5MB":"PDF or MP3, max 5MB")))),m&&e.default.createElement(t.Box,{mt:"lg"},e.default.createElement(t.Text,{variant:"sm"},"Selected file: ",m.name)),e.default.createElement(t.Box,{mt:"lg"},e.default.createElement(t.Button,{variant:"primary",onClick:E,disabled:n||!m},e.default.createElement(t.Icon,{icon:"Upload"}),"Submit")))},k=u=>{const{property:l,record:c}=u,[a,o]=p.useState(!1),n=()=>{o(r=>!r)},i=c.params[l.name];return console.log("imageUrl",i),console.log("record",c),console.log("property",c.params),e.default.createElement(t.Box,null,i&&e.default.createElement(e.default.Fragment,null,e.default.createElement(t.Box,{mt:"lg"},e.default.createElement("img",{src:i,alt:"Uploaded",style:{maxWidth:"auto",maxHeight:"150px",cursor:"pointer"},onClick:n})),a&&e.default.createElement(t.Modal,{isOpen:a,onClose:n,title:"Image Preview"},e.default.createElement(t.Box,{p:"lg",display:"flex",justifyContent:"center"},e.default.createElement("img",{src:i,alt:"Uploaded",style:{maxWidth:"100%",maxHeight:"80vh"}})),e.default.createElement(t.Box,{p:"lg",display:"flex",justifyContent:"center"},e.default.createElement(t.Button,{onClick:n},"Close")))))},L=u=>{const l=u.data||{};return console.log("the data is ",l),e.default.createElement("div",{style:y.container},e.default.createElement("h1",{style:y.title},"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645"),e.default.createElement("div",{style:y.cardsContainer},e.default.createElement("div",{style:y.card},e.default.createElement("h2",{style:y.cardTitle},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646"),e.default.createElement("p",{style:y.cardNumber},l.usersCount)),e.default.createElement("div",{style:y.card},e.default.createElement("h2",{style:y.cardTitle},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0647\u062F\u0627\u064A\u0627"),e.default.createElement("p",{style:y.cardNumber},l.giftsCount))))},y={container:{padding:"30px",direction:"rtl"},title:{fontSize:"32px",fontWeight:"bold",marginBottom:"25px"},cardsContainer:{display:"flex",gap:"20px"},card:{flex:1,padding:"25px",borderRadius:"14px",boxShadow:"0 4px 14px rgba(0,0,0,0.1)",textAlign:"center"},cardTitle:{fontSize:"20px",fontWeight:"600",marginBottom:"10px"},cardNumber:{fontSize:"50px",fontWeight:"bold",color:"#357637ff"}},z=u=>{const{record:l,property:c}=u,a=l.params[c.name];return!a||!Array.isArray(a)?e.default.createElement("span",null,"No data"):e.default.createElement("div",null,a.map((o,n)=>e.default.createElement("div",{key:n,style:{marginBottom:"10px"}},e.default.createElement("strong",null,"Item ",n+1,":"),e.default.createElement("ul",null,Object.entries(o).map(([i,r])=>e.default.createElement("li",{key:i},e.default.createElement("strong",null,i,":")," ",JSON.stringify(r)))))))},J=({property:u,record:l,onChange:c})=>{console.log("GiftArrayComponent",l,u);const a=l.params.gifts||[];console.log("GiftArrayComponent",l,u);const o=()=>{c("gifts",[...a,{gift:"",quantity:1}])},n=r=>{const d=[...a];d.splice(r,1),c("gifts",d)},i=(r,d,m)=>{const s=[...a];s[r]={...s[r],[d]:m},c("gifts",s)};return e.default.createElement(t.FormGroup,null,e.default.createElement(t.Box,null,a.map((r,d)=>e.default.createElement(t.Box,{key:d,className:"flex gap-4 items-center mb-4 p-4 border rounded"},e.default.createElement("div",{className:"flex-grow"},e.default.createElement(t.FormGroup,null,e.default.createElement(t.Label,null,"Gift"),e.default.createElement("select",{className:"w-full p-2 border rounded",value:r.gift,onChange:m=>i(d,"gift",m.target.value)},e.default.createElement("option",{value:""},"Select Gift"),u.availableValues?.map(m=>e.default.createElement("option",{key:m.value,value:m.value},m.label)))),e.default.createElement(t.FormGroup,null,e.default.createElement(t.Label,null,"Quantity"),e.default.createElement("input",{type:"number",className:"w-full p-2 border rounded",value:r.quantity,min:"1",onChange:m=>i(d,"quantity",parseInt(m.target.value))}))),e.default.createElement(t.Button,{variant:"danger",onClick:()=>n(d)},"Remove"))),e.default.createElement(t.Button,{onClick:o},"Add Gift")))},M=u=>{const{property:l,onChange:c,record:a}=u,o=a?.params?.items||[];console.log("ItemArrayComponent",a,l);const n=()=>{const m=[...o,{item:"",days:1}];c("items",m)},i=m=>{const s=[...o];s.splice(m,1),c("items",s)},r=(m,s,f)=>{const g=[...o];g[m]={...g[m],[s]:f},c("items",g)},d=m=>l.custom?.availableValues?.find(s=>s.value===m);return e.default.createElement(t.Box,{variant:"white"},e.default.createElement(t.Label,null,"Items"),o.map((m,s)=>e.default.createElement(t.Box,{key:s,className:"mb-4 p-4 border rounded"},e.default.createElement("div",{className:"flex gap-4"},d(m.item)?.image&&e.default.createElement("div",{className:"w-20 h-20 flex-shrink-0"},e.default.createElement("img",{src:d(m.item).image,alt:d(m.item).label,className:"w-full h-full object-cover rounded"})),e.default.createElement("div",{className:"flex-grow"},e.default.createElement(t.FormGroup,null,e.default.createElement(t.Label,null,"Item"),e.default.createElement("select",{value:m.item,onChange:f=>r(s,"item",f.target.value),className:"w-full p-2 border rounded"},e.default.createElement("option",{value:""},"Select Item"),l.custom?.availableValues?.map(f=>e.default.createElement("option",{key:f.value,value:f.value},f.label)))),e.default.createElement(t.FormGroup,null,e.default.createElement(t.Label,null,"Days"),e.default.createElement("input",{type:"number",min:"1",value:m.days,onChange:f=>r(s,"days",parseInt(f.target.value,10)),className:"w-full p-2 border rounded"}))),e.default.createElement(t.Button,{variant:"danger",onClick:()=>i(s)},"Remove Item")))),e.default.createElement(t.Button,{variant:"primary",onClick:n},"Add Item"))},$=u=>{const{resource:l,action:c}=u,{translateButton:a}=x.useTranslation(),[o,n]=p.useState("broadCastSent"),[i,r]=p.useState("{}"),[d,m]=p.useState(!1),[s,f]=p.useState(null),g=async C=>{C.preventDefault(),m(!0),f(null);try{try{JSON.parse(i)}catch{throw new Error("Invalid JSON format in Data field")}const B=await l.callAction({actionName:"new",params:{},data:{eventName:o,eventData:i}});f(B.data.notice)}catch(B){f({message:`Error: ${B.message}`,type:"error"})}finally{m(!1)}};return e.default.createElement(t.Box,{as:"form",onSubmit:g,flex:!0,flexDirection:"column",width:1},e.default.createElement(t.Header,null,"Send Broadcast to All Users"),e.default.createElement(t.Box,{mb:"xl"},e.default.createElement(t.Label,null,"Event Name"),e.default.createElement(t.Input,{value:o,onChange:C=>n(C.target.value),required:!0,placeholder:"Enter event name",width:1})),e.default.createElement(t.Box,{mb:"xl"},e.default.createElement(t.Label,null,"Event Data (JSON)"),e.default.createElement(t.TextArea,{value:i,onChange:C=>r(C.target.value),rows:8,placeholder:'{"key": "value"}',width:1}),e.default.createElement(t.Text,{mt:"sm",fontSize:"sm",color:"grey"},"Enter valid JSON object")),s&&e.default.createElement(t.Box,{mb:"xl"},e.default.createElement(t.MessageBox,{variant:s.type==="success"?"success":"danger"},s.message)),e.default.createElement(t.Box,null,e.default.createElement(t.Button,{type:"submit",disabled:d},d?"Sending...":a("Send Broadcast"))))},U=new x.ApiClient,G=()=>{const[u,l]=p.useState("broadCastSent"),[c,a]=p.useState(""),[o,n]=p.useState([]),[i,r]=p.useState(!1),[d,m]=p.useState(null),[s,f]=p.useState(!1),[g,C]=p.useState(""),B=async E=>{if(E&&E.length>0){f(!0);const v=E[0],b=new FormData;b.append("file",v);try{const h=await U.getPage({pageName:"upload",method:"POST",data:b});h.data&&h.data.url&&(C(h.data.url),n([{name:v.name,size:v.size,url:h.data.url}]))}catch(h){m({message:`Error uploading file: ${h.message||"Upload failed"}`,type:"error"})}finally{f(!1)}}},D=async E=>{E.preventDefault(),r(!0),m(null);try{const v={text:c,image:g},b=await U.getPage({pageName:"AdminMessage",method:"GET",params:{event:u,text:c,image:g,data:JSON.stringify(v)}});b.data.notice?m(b.data.notice):m({message:"Broadcast sent successfully",type:"success"})}catch(v){m({message:`Error: ${v.message||"Something went wrong"}`,type:"error"})}finally{r(!1)}};return e.default.createElement(t.Box,{as:"form",onSubmit:D,flex:!0,flexDirection:"column",width:1,p:"lg"},e.default.createElement(t.Header,null,"Send Broadcast to All Users"),e.default.createElement(t.Box,{mb:"xl"},e.default.createElement(t.Label,null,"Event Name"),e.default.createElement(t.Input,{value:u,onChange:E=>l(E.target.value),required:!0,placeholder:"Enter event name",width:1})),e.default.createElement(t.Box,{mb:"xl"},e.default.createElement(t.Label,null,"Message Text"),e.default.createElement(t.TextArea,{value:c,onChange:E=>a(E.target.value),rows:4,placeholder:"Enter your message text",width:1})),e.default.createElement(t.Box,{mb:"xl"},e.default.createElement(t.Label,null,"Upload Image"),e.default.createElement(t.DropZone,{onChange:B,multiple:!1,validate:{mimeTypes:["image/png","image/jpeg","image/gif","image/webp"]},files:o}),s&&e.default.createElement(t.Text,{mt:"sm"},"Uploading file..."),g&&e.default.createElement(t.Box,{mt:"default"},e.default.createElement(t.Text,{mb:"sm"},"Image Preview:"),e.default.createElement("img",{src:g,alt:"Preview",style:{maxWidth:"200px",maxHeight:"200px"}}))),d&&e.default.createElement(t.Box,{mb:"xl"},e.default.createElement(t.MessageBox,{variant:d.type==="success"?"success":"danger"},d.message)),e.default.createElement(t.Box,null,e.default.createElement(t.Button,{type:"submit",disabled:i||s},i?"Sending...":"Send Broadcast")))},H=u=>{const{record:l,property:c}=u,a=l?.params?.chatMessages||[];if(!a||a.length===0)return e.default.createElement(t.Box,{padding:"lg"},e.default.createElement(t.Text,{variant:"body1",color:"muted"},"\u0644\u0627 \u062A\u0648\u062C\u062F \u0631\u0633\u0627\u0626\u0644 \u0641\u064A \u0647\u0630\u0647 \u0627\u0644\u0645\u062D\u0627\u062F\u062B\u0629"));const o=r=>({text:"\u0646\u0635",image:"\u0635\u0648\u0631\u0629",voice:"\u0635\u0648\u062A",gift:"\u0647\u062F\u064A\u0629",emoji:"\u0645\u0644\u0635\u0642",invitation:"\u062F\u0639\u0648\u0629"})[r]||r,n=r=>({text:"default",image:"info",voice:"success",gift:"warning",emoji:"secondary",invitation:"primary"})[r]||"default",i=r=>{try{return new Date(r).toLocaleString("ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return r}};return e.default.createElement(t.Box,{padding:"lg"},e.default.createElement(t.Text,{variant:"h6",marginBottom:"md"},"\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0645\u062D\u0627\u062F\u062B\u0629 (",a.length," \u0631\u0633\u0627\u0644\u0629)"),e.default.createElement(t.Box,{maxHeight:"600px",overflow:"auto",border:"1px solid #e0e0e0",borderRadius:"md",padding:"md"},a.map((r,d)=>{const m=r._id||r.id||d;return e.default.createElement(t.Box,{key:m,marginBottom:"sm"},e.default.createElement(t.Box,{border:"1px solid #f0f0f0",borderRadius:"sm",padding:"sm",backgroundColor:"black"},e.default.createElement(t.Box,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"xs"},e.default.createElement(t.Box,{display:"flex",alignItems:"center",gap:"xs"},e.default.createElement(t.Text,{variant:"body2",fontWeight:"bold",color:"primary"},r.sender||"\u0645\u062C\u0647\u0648\u0644"),e.default.createElement(t.Text,{variant:"caption",color:"muted"},"\u0625\u0644\u0649"),e.default.createElement(t.Text,{variant:"body2",fontWeight:"bold",color:"secondary"},r.receiver||"\u0645\u062C\u0647\u0648\u0644")),e.default.createElement(t.Box,{display:"flex",alignItems:"center",gap:"xs"},e.default.createElement(t.Badge,{variant:n(r.messageType),size:"sm"},o(r.messageType)),r.isRead&&e.default.createElement(t.Badge,{variant:"success",size:"sm"},"\u0645\u0642\u0631\u0648\u0621"),r.isDeleted&&e.default.createElement(t.Badge,{variant:"danger",size:"sm"},"\u0645\u062D\u0630\u0648\u0641"))),r.body&&e.default.createElement(t.Box,{backgroundColor:"#000",padding:"sm",borderRadius:"sm",marginY:"xs",border:"1px solid #f0f0f0"},e.default.createElement(t.Text,{variant:"body1",dir:"auto"},r.body)),e.default.createElement(t.Box,{display:"flex",justifyContent:"flex-end",marginTop:"xs"},e.default.createElement(t.Text,{variant:"caption",color:"muted"},i(r.createdAt)))),d<a.length-1&&e.default.createElement(t.Box,{height:"1px",backgroundColor:"#e0e0e0",marginY:"xs"}))})))},W=u=>{const{record:l,property:c}=u,a=l?.params||{},o=[];let n=0;for(;a[`participants.${n}._id`]||a[`participants.${n}.name`];){const i={_id:a[`participants.${n}._id`],name:a[`participants.${n}.name`],username:a[`participants.${n}.username`]};o.push(i),n++}return console.log("ParticipantsDisplay - Reconstructed participants:",o),!o||o.length===0?e.default.createElement(t.Text,{variant:"body2",color:"muted"},"\u0644\u0627 \u064A\u0648\u062C\u062F \u0645\u0634\u0627\u0631\u0643\u0648\u0646"):e.default.createElement(t.Box,{display:"flex",flexWrap:"wrap",gap:"xs"},o.slice(0,2).map((i,r)=>{const d=i.name||i.username||`\u0645\u0634\u0627\u0631\u0643 ${r+1}`;return e.default.createElement(t.Badge,{key:i._id||r,variant:"primary",size:"sm"},d)}),o.length>2&&e.default.createElement(t.Badge,{variant:"default",size:"sm"},"+",o.length-2," \u0622\u062E\u0631\u064A\u0646"))},O=u=>{const{record:l,property:c}=u,a=l.params[c.path],o=l.params.currentDiamonds||0;return e.default.createElement(t.Box,{display:"flex",alignItems:"center",gap:"sm"},e.default.createElement(t.Text,{fontSize:"md",color:"grey100",fontWeight:"bold"},"$",a?.toLocaleString()||"0"),e.default.createElement(t.Text,{fontSize:"sm",color:"grey80"},"(",o?.toLocaleString()||"0"," \u{1F48E})"))},R=u=>{const{record:l}=u,c=l.params.totalHosts||0,a=l.params.currentDiamonds||0,o=l.params.monthlyDiamonds||0,n=l.params.dailyDiamonds||0,i=l.params.agencyRank||"N/A",r=l.params.avgHostDiamonds||0,d=l.params.Salary||0,m=[{label:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0636\u064A\u0641\u064A\u0646",value:c},{label:"\u0627\u0644\u0645\u0627\u0633 \u0627\u0644\u062D\u0627\u0644\u064A",value:a.toLocaleString()},{label:"\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0645\u062A\u0648\u0642\u0639",value:`$${d.toLocaleString()}`},{label:"\u0645\u0627\u0633 \u0634\u0647\u0631\u064A",value:o.toLocaleString()},{label:"\u0645\u0627\u0633 \u064A\u0648\u0645\u064A",value:n.toLocaleString()},{label:"\u062A\u0631\u062A\u064A\u0628 \u0627\u0644\u0648\u0643\u0627\u0644\u0629",value:`#${i}`},{label:"\u0645\u062A\u0648\u0633\u0637 \u0645\u0627\u0633 \u0627\u0644\u0645\u0636\u064A\u0641",value:r.toLocaleString()}];return e.default.createElement(t.Box,{bg:"grey10",p:"lg",borderRadius:"md"},e.default.createElement(t.Box,{mb:"lg"},e.default.createElement(t.H3,{mb:"lg",color:"grey100"},"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0648\u0643\u0627\u0644\u0629"),e.default.createElement(t.Box,{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"md"},m.map((s,f)=>e.default.createElement(t.Box,{key:f,p:"md",bg:"grey15",borderRadius:"sm",border:"1px solid",borderColor:"grey40"},e.default.createElement(t.Text,{fontSize:"sm",color:"grey80",mb:"xs"},s.label),e.default.createElement(t.Text,{fontSize:"lg",fontWeight:"bold",color:"grey100"},s.value))))),e.default.createElement(t.Box,null,e.default.createElement(t.H4,{mb:"md",color:"grey100"},"\u0645\u0642\u0627\u064A\u064A\u0633 \u0627\u0644\u0623\u062F\u0627\u0621"),e.default.createElement(t.Box,{bg:"grey15",borderRadius:"md",border:"1px solid",borderColor:"grey40"},e.default.createElement(t.Table,null,e.default.createElement(t.TableHead,null,e.default.createElement(t.TableRow,{bg:"grey20"},e.default.createElement(t.TableCell,null,e.default.createElement(t.Text,{fontWeight:"bold",color:"grey100"},"\u0627\u0644\u0645\u0642\u064A\u0627\u0633")),e.default.createElement(t.TableCell,null,e.default.createElement(t.Text,{fontWeight:"bold",color:"grey100"},"\u0627\u0644\u0642\u064A\u0645\u0629")))),e.default.createElement(t.TableBody,null,e.default.createElement(t.TableRow,null,e.default.createElement(t.TableCell,null,e.default.createElement(t.Text,{color:"grey100"},"\u0645\u0639\u062F\u0644 \u0627\u0644\u0646\u0634\u0627\u0637")),e.default.createElement(t.TableCell,null,e.default.createElement(t.Text,{color:"grey100"},c>0?Math.round(o/Math.max(a,1)*100):0,"%"))),e.default.createElement(t.TableRow,null,e.default.createElement(t.TableCell,null,e.default.createElement(t.Text,{color:"grey100"},"\u0643\u0641\u0627\u0621\u0629 \u0627\u0644\u0645\u0636\u064A\u0641\u064A\u0646")),e.default.createElement(t.TableCell,null,e.default.createElement(t.Text,{color:"grey100"},c>0?Math.round(r):0," \u0645\u0627\u0633\u0629/\u0645\u0636\u064A\u0641"))),e.default.createElement(t.TableRow,null,e.default.createElement(t.TableCell,null,e.default.createElement(t.Text,{color:"grey100"},"\u0627\u0644\u0646\u0645\u0648 \u0627\u0644\u064A\u0648\u0645\u064A")),e.default.createElement(t.TableCell,null,e.default.createElement(t.Text,{color:"grey100"},n.toLocaleString()," \u0645\u0627\u0633\u0629"))),e.default.createElement(t.TableRow,null,e.default.createElement(t.TableCell,null,e.default.createElement(t.Text,{color:"grey100"},"\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u062D\u0627\u0644\u064A")),e.default.createElement(t.TableCell,null,e.default.createElement(t.Text,{color:"grey100"},"$",d.toLocaleString()))))))))},_=u=>{const{record:l}=u,c=l.params.currentDiamonds||0,a=l.params.monthlyDiamonds||0,o=l.params.dailyDiamonds||0,n=l.params.Salary||0,i=l.params.dailySalary||0,r=l.params.monthlySalary||0,d=[{label:"\u0627\u0644\u0645\u0627\u0633 \u0627\u0644\u062D\u0627\u0644\u064A",value:c.toLocaleString()},{label:"\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0645\u062A\u0627\u062D",value:`$${n.toLocaleString()}`},{label:"\u0645\u0627\u0633 \u0634\u0647\u0631\u064A",value:a.toLocaleString()},{label:"\u0645\u0627\u0633 \u064A\u0648\u0645\u064A",value:o.toLocaleString()},{label:"\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u064A\u0648\u0645\u064A",value:`$${i.toLocaleString()}`},{label:"\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0634\u0647\u0631\u064A",value:`$${r.toLocaleString()}`}];return e.default.createElement(t.Box,{bg:"grey10",p:"lg",borderRadius:"md"},e.default.createElement(t.Box,{mb:"lg"},e.default.createElement(t.H3,{mb:"lg",color:"grey100"},"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0645\u0636\u064A\u0641"),e.default.createElement(t.Box,{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"md"},d.map((m,s)=>e.default.createElement(t.Box,{key:s,p:"md",bg:"grey15",borderRadius:"sm",border:"1px solid",borderColor:"grey40"},e.default.createElement(t.Text,{fontSize:"sm",color:"grey80",mb:"xs"},m.label),e.default.createElement(t.Text,{fontSize:"lg",fontWeight:"bold",color:"grey100"},m.value))))))},Z=u=>{const{record:l,property:c}=u,a=l.params[c.path]||0;return e.default.createElement(t.Box,{display:"flex",alignItems:"center",gap:"sm"},e.default.createElement(t.Text,{fontSize:"md",color:"grey100",fontWeight:"bold"},a.toLocaleString()),e.default.createElement(t.Text,{fontSize:"sm",color:"grey80"},"\u{1F48E}"))},q=u=>{const{record:l,property:c}=u,a=l.params.totalHosts||0;l.params.currentDiamonds;const o=l.params.Salary||0;return e.default.createElement(t.Box,{display:"flex",flexDirection:"column",gap:"xs"},e.default.createElement(t.Text,{fontSize:"sm",color:"grey100"},a," \u0645\u0636\u064A\u0641 | $",o.toLocaleString()))},V=u=>{const{record:l}=u,c=l.params.currentDiamonds||0,a=l.params.Salary||0;let o="\u0645\u0628\u062A\u062F\u0626",n="info";return c>5e4?(o="\u062E\u0628\u064A\u0631",n="success"):c>25e3?(o="\u0645\u062A\u0642\u062F\u0645",n="secondary"):c>1e4&&(o="\u0645\u062A\u0648\u0633\u0637",n="primary"),e.default.createElement(t.Box,{display:"flex",flexDirection:"column",gap:"xs"},e.default.createElement(t.Badge,{variant:n,size:"sm"},o),e.default.createElement(t.Text,{fontSize:"xs",color:"grey80"},"$",a.toLocaleString()," \u0631\u0627\u062A\u0628"))},Y=u=>{const[l]=x.useCurrentAdmin(),c=l?.role==="manager";console.log("the role is manager ? is : ",c);const a={...u,resource:{...u.resource,properties:{...u.resource.properties}}};return c&&["name","avatar","phone","userId","isSuperAdmin","credits","totalChargedAmount"].forEach(n=>{a.resource.properties[n]&&(a.resource.properties[n]={...a.resource.properties[n],isDisabled:!0})}),console.log("Fields and their isDisabled state:"),Object.entries(a.resource.properties).forEach(([o,n])=>{console.log(o,"-> isDisabled:",n.isDisabled||!1)}),e.default.createElement(x.Edit,a)},j=({property:u,record:l,onChange:c})=>{const{translateProperty:a}=x.useTranslation(),{params:o}=l,{custom:n}=u,i=x.flat.get(o,n.filePathProperty),r=x.flat.get(o,n.keyProperty),d=x.flat.get(o,n.fileProperty),[m,s]=p.useState(r),[f,g]=p.useState([]);p.useEffect(()=>{(typeof r=="string"&&r!==m||typeof r!="string"&&!m||typeof r!="string"&&Array.isArray(r)&&r.length!==m.length)&&(s(r),g([]))},[r,m]);const C=E=>{g(E),c(n.fileProperty,E)},B=()=>{c(n.fileProperty,null)},D=E=>{const v=(x.flat.get(l.params,n.keyProperty)||[]).indexOf(E),b=x.flat.get(l.params,n.filesToDeleteProperty)||[];if(i&&i.length>0){const h=i.map((A,ee)=>ee!==v?A:null);let T=x.flat.set(l.params,n.filesToDeleteProperty,[...b,v]);T=x.flat.set(T,n.filePathProperty,h),c({...l,params:T})}else console.log("You cannot remove file when there are no uploaded files yet")};return e.default.createElement(t.FormGroup,null,e.default.createElement(t.Label,null,a(u.label,u.resourceId)),e.default.createElement(t.DropZone,{onChange:C,multiple:n.multiple,validate:{mimeTypes:n.mimeTypes,maxSize:n.maxSize},files:f}),!n.multiple&&r&&i&&!f.length&&d!==null&&e.default.createElement(t.DropZoneItem,{filename:r,src:i,onRemove:B}),n.multiple&&r&&r.length&&i?e.default.createElement(e.default.Fragment,null,r.map((E,v)=>i[v]?e.default.createElement(t.DropZoneItem,{key:E,filename:E,src:i[v],onRemove:()=>D(E)}):"")):"")},K=["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","application/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp2"],Q=["image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/vnd.microsoft.icon","image/tiff","image/webp"],P=u=>{const{name:l,path:c,mimeType:a,width:o}=u;if(c&&c.length){if(a&&Q.includes(a))return e.default.createElement("img",{src:c,style:{maxHeight:o,maxWidth:o},alt:l});if(a&&K.includes(a))return e.default.createElement("audio",{controls:!0,src:c},"Your browser does not support the",e.default.createElement("code",null,"audio"),e.default.createElement("track",{kind:"captions"}))}return e.default.createElement(t.Box,null,e.default.createElement(t.Button,{as:"a",href:c,ml:"default",size:"sm",rounded:!0,target:"_blank"},e.default.createElement(t.Icon,{icon:"DocumentDownload",color:"white",mr:"default"}),l))},I=({width:u,record:l,property:c})=>{const{custom:a}=c;let o=x.flat.get(l?.params,a.filePathProperty);if(!o)return null;const n=x.flat.get(l?.params,a.fileNameProperty?a.fileNameProperty:a.keyProperty),i=a.mimeTypeProperty&&x.flat.get(l?.params,a.mimeTypeProperty);if(!c.custom.multiple)return a.opts&&a.opts.baseUrl&&(o=`${a.opts.baseUrl}/${n}`),e.default.createElement(P,{path:o,name:n,width:u,mimeType:i});if(a.opts&&a.opts.baseUrl){const r=a.opts.baseUrl||"";o=o.map((d,m)=>`${r}/${n[m]}`)}return e.default.createElement(e.default.Fragment,null,o.map((r,d)=>e.default.createElement(P,{key:r,path:r,name:n[d],width:u,mimeType:i[d]})))},X=u=>e.default.createElement(I,{width:100,...u}),S=u=>{const{property:l}=u,{translateProperty:c}=x.useTranslation();return e.default.createElement(t.FormGroup,null,e.default.createElement(t.Label,null,c(l.label,l.resourceId)),e.default.createElement(I,{width:"100%",...u}))};AdminJS.UserComponents={},AdminJS.UserComponents.FileUploadComponent=N,AdminJS.UserComponents.CustomUploadShowComponent=k,AdminJS.UserComponents.Dashboard=L,AdminJS.UserComponents.CustomArrayShowComponent=z,AdminJS.UserComponents.GiftArrayComponent=J,AdminJS.UserComponents.ItemArrayComponent=M,AdminJS.UserComponents.BroadcastForm=$,AdminJS.UserComponents.BroadCastPage=G,AdminJS.UserComponents.ChatMessagesDisplay=H,AdminJS.UserComponents.ParticipantsDisplay=W,AdminJS.UserComponents.SalaryDisplay=O,AdminJS.UserComponents.AgencyStatisticsDisplay=R,AdminJS.UserComponents.HostStatisticsDisplay=_,AdminJS.UserComponents.DiamondDisplay=Z,AdminJS.UserComponents.PerformanceSummary=q,AdminJS.UserComponents.HostPerformanceSummary=V,AdminJS.UserComponents.RoleBasedEdit=Y,AdminJS.UserComponents.UploadEditComponent=j,AdminJS.UserComponents.UploadListComponent=X,AdminJS.UserComponents.UploadShowComponent=S})(React,AdminJSDesignSystem,AdminJS);
